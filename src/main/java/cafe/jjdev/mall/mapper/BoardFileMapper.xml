<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cafe.jjdev.mall.mapper.BoardFileMapper">
	<select id="selectBoardFile" parameterType="int" resultType="cafe.jjdev.mall.vo.BoardFile">
		SELECT 
            board_file_no AS boardFileNo
            , board_no AS boardNo
            , board_file_origin_name AS boardFileOriginName
            , board_file_save_name AS boardFileSaveName
            , board_file_ext AS boardFileExt
            , board_file_size AS boardFileSize
            , board_file_type AS boardFileType
            , board_file_delete AS boardFileDelete
        FROM 
        	board_file
        WHERE 
        	board_no = #{boardNo}
	</select>
	<select id="selectBoardFileOne"
			parameterType="int"
			resultType="cafe.jjdev.mall.vo.BoardFile">
		SELECT 
            board_file_no AS boardFileNo
            , board_no AS boardNo
            , board_file_origin_name AS boardFileOriginName
            , board_file_save_name AS boardFileSaveName
            , board_file_ext AS boardFileExt
            , board_file_size AS boardFileSize
            , board_file_type AS boardFileType
        FROM 
        	board_file
        WHERE 
        	board_file_no = #{boardFileNo}	
	</select>
	<delete id="deleteBoardFileByFileNo" parameterType="int">
		DELETE FROM 
			board_file
		WHERE 
			board_file_no = #{boardFileNo}
	</delete>
	<delete id="deleteBoardFileByBoardNo" parameterType="int">
		DELETE FROM 
			board_file
		WHERE 
			board_no = #{boradNo}
	</delete>
	<insert id="insertBoardFile" parameterType="cafe.jjdev.mall.vo.BoardFile">
		INSERT INTO 
			board_file(
				board_no,
				board_file_origin_name,
				board_file_save_name,
				board_file_ext,
				board_file_size,
				board_file_type
			) 
		VALUES
		(
			#{boardNo},
			#{boardFileOriginName},
			#{boardFileSaveName},
			#{boardFileExt},
			#{boardFileSize},
			#{boardFileType}
		)
	</insert>
	<update id="updateBoardFile"
			parameterType="int">
		UPDATE 
			board_file
		SET
			board_file_delete = 0
		WHERE 
			board_no = #{boardNo}
	</update>
		<update id="updateBoardFileForDelete"
			parameterType="int">
		UPDATE 
			board_file
		SET
			board_file_delete = 1
		WHERE 
			board_file_no = #{boardFileNo}
	</update>
	<select id="selectBoardFileForDelete" parameterType="int" resultType="cafe.jjdev.mall.vo.BoardFile">
		SELECT 
            board_file_no AS boardFileNo
            , board_no AS boardNo
            , board_file_origin_name AS boardFileOriginName
            , board_file_save_name AS boardFileSaveName
            , board_file_ext AS boardFileExt
            , board_file_size AS boardFileSize
            , board_file_type AS boardFileType
            , board_file_delete AS boardFileDelete
        FROM 
        	board_file
        WHERE 
        	board_no = #{boardNo}
        AND
        	board_file_delete = 1
	</select>
</mapper>